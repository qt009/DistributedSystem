<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bank Browser</title>
  <script>
    function getMsg() {
      // Creates a promise object for retrieving the desired data
      fetch("http://172.20.2.1:8002/api")
          // When received, exposes the JSON component
          .then((response) => {
            return response.json();
          })
          // Displays the message on the page
          .then((json) => {
            document.getElementById("msg").innerHTML = "Server message: " + json.msg;
          });
    }
    // Sends message to server via POST
    function postMsg() {
      const data = {msg: document.getElementById("msg-box").value};
      // Creates a promise object for sending the desired data
      fetch("http://172.20.2.1:8002/api",{
        method: "POST",
        // Format of the body must match the Content-Type
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify(data)
      });
    }
  </script>
</head>
<body>
<h1>Bank Browser</h1>


<form action="http://172.20.2.1:8002/connectToBank" method=POST>
  <label for="BankIPInput"></label><input type="text" id="BankIPInput" name = "bankIP" placeholder="Enter bank IP">
  <label for="BankPortInput"></label><input type="text" id="BankPortInput" name = "bankPort" placeholder="Enter bank port">
  <button type="submit">connect</button>
</form>
<br>

<p id="msg"></p>
<label for="msg-box"></label><input text id="msg-box" /><br />
<button onclick="getMsg()">Get</button>
<button onclick="postMsg()">Post</button>
<br>

<!--<h1>Total Value of Bank</h1>
<label for="totalValue"></label><p id="totalValue"></p>
<button onclick="totalValueRequest()">Total Value</button>
<br>

<h1>Submit Change</h1>
<label for="changeTotalValue"></label>
<input type="number" id="changeTotalValue" placeholder="0.0">
<button onclick="moneyAdd()">Add</button>
<button onclick="moneySubtract()">Subtract</button>-->

</body>
</html>